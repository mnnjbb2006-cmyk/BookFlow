# BookFlow

A small desktop library management system built with PyQt6 and MongoDB. Features include user roles (Admin, Librarian, User), book CRUD, requests for loan/renew/return, and simple reports.

## Highlights
- PyQt6 GUI (admin, librarian, and user interfaces)
- MongoDB backend (users, books, requests, loans collections)
- Built-in default admin user created on first run (username: `admin`, password: `admin`)

## Prerequisites
- Python 3.10+ (the project was developed with Python 3.13)
- MongoDB running locally (default port)
- Git (to upload to GitHub)

## Quick setup
1. Clone the repo and cd into it:

```bash
git clone <your-repo-url>
cd BookFlow
```

2. Create a virtual environment and activate it (recommended):

```bash
python3 -m venv .venv
source .venv/bin/activate   # zsh / bash
```

3. Install dependencies:

```bash
pip install -r requirements.txt
```

4. Ensure MongoDB is running on the default port (27017). The app expects a local MongoDB instance. On first run a default admin user (`admin` / `admin`) will be created if the `users` collection is empty.

5. Run the application (desktop GUI):

```bash
python main.py
```

## Files of interest
- `main.py` — login dialog and app entry point
- `admin.py`, `librarian.py`, `user.py` — UI windows generated by PyQt and application logic wiring
- `db.py` — MongoDB connection and collection handles
- `Collections/` — helpers for `users` and `books` collections
- `services/` — helpers for `loans` and `requests`

## Default credentials
- Admin user created automatically if collection is empty:
  - Username: `admin`
  - Password: `admin`

Change the password immediately in production; passwords are stored as SHA-256 hashes in the database.

## Notes & common issues
- MongoDB connection: if the app prints "Cannot connect to the database; make sure MongoDB is running on the default port." start `mongod` or point `db.py` to your MongoDB URI.
- UI files were generated by `pyuic6`. If you re-generate them, manual edits might be overwritten.
- The app uses a simple hashed password approach (SHA-256). For a production deployment you should use a stronger password hashing method (bcrypt/argon2) and secure the DB.

## Contributing
- Improve tests, add CI, and migrate to a packaged application (PyInstaller / briefAppImage) if packaging is needed.

## License
See the bundled `LICENSE` file.
